# news_scrapper

будет собирать новости из различных источников и анализировать с помощью ии выявляя ключевые слова и категории

Архитектура и технологии
1. PostgreSQL — основная база данных
Для чего: Хранит структурированные данные

Пользователи и их настройки
Источники новостей (сайты, RSS)
Метаданные статей (ID, URL, автор, дата)
Избранное пользователя

2. ClickHouse — аналитическая база данных
Для чего: Хранит события и большие объёмы данных для аналитики

Все просмотры статей (кто, когда, что читал)
Клики, время чтения
Популярность тем по времени
Статистика по источникам

3. Векторная БД (Qdrant или Milvus) — семантический поиск
Для чего: Хранит "смысл" статей в виде векторов (массивов чисел)

Как работает:
1. Текст статьи → AI модель → вектор из 768 чисел
2. Этот вектор хранится в векторной БД
3. При поиске твой запрос тоже превращается в вектор
4. БД ищет похожие вектора = похожие по смыслу статьи

4. Redis — кеш и быстрое хранилище
Для чего:
- Кеширование популярных запросов (чтобы не дёргать БД каждый раз)
- Rate limiting API (ограничение запросов от пользователя)
- Счётчики в реальном времени (сколько людей читают статью прямо сейчас)
- Session storage

5. RabbitMQ — очередь задач
Для чего: Асинхронная обработка статей

Как работает:
1. Новая статья появилась → кладём в очередь
2. Worker берёт из очереди и обрабатывает:
   - Генерирует embedding (вектор) через AI модель
   - Извлекает ключевые слова
   - Определяет категорию
   - Анализирует тональность
   - Сохраняет результаты

WebSockets — обновления в моменте
Для чего:
- Пользователь видит новые статьи сразу (без обновления страницы)
- Уведомления о трендах
- Live-счётчики читателей

Как работает:
- Клиент подключается к WebSocket серверу
- Когда появляется новая статья → сервер пушит её всем подключенным клиентам

7. gRPC — связь между микросервисами
Для чего: Сервисы общаются друг с другом

Микросервисы:
- API Gateway (REST для фронтенда)
- WebSocket Service (реал-тайм обновления)
- Analytics Service (работает с ClickHouse)
- Search Service (работает с векторной БД)
- Scraper Service (собирает новости)
- Worker Service (обрабатывает статьи с ии через RabbitMQ)

Поток данных

1. Scraper Service → собирает новости → сохраняет в PostgreSQL
                   ↓
2. Кладёт задачу в RabbitMQ очередь
                   ↓
3. Worker Service → берёт задачу
                   → генерирует embedding через AI модель
                   → сохраняет в Qdrant (векторная БД)
                   ↓
4. WebSocket Service → пушит новую статью клиентам
                   ↓
5. Пользователь читает → событие идёт в ClickHouse
                   ↓
6. Analytics Service → строит графики из ClickHouse

Фичи:

✅ Семантический поиск ("найди статьи про экономический кризис")
✅ Похожие статьи (автоматически через векторную БД)
✅ Дашборд аналитики (тренды, популярные темы)
✅ Персональные рекомендации (на основе истории чтения)
✅ Живые обновления без перезагрузки страницы
✅ Алерты на ключевые слова в реальном времени

Технический стек:

Backend: Go
Frontend: React/Vue
PostgreSQL, ClickHouse, Qdrant/Milvus, Redis, RabbitMQ
gRPC, WebSockets, REST API
Docker Compose для запуска всех микросервисов
